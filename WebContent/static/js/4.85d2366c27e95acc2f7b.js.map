{"version":3,"sources":["webpack:///src/components/Newtopic.vue","webpack:///./src/components/Newtopic.vue?f3a2","webpack:///./src/components/Newtopic.vue"],"names":["Newtopic","data","topic","title","content","rules","required","message","trigger","max","methods","codeParsing","code","hint","Object","element_ui_common","type","center","getNowFormatDate","date","Date","year","getFullYear","month","getMonth","strDate","getDate","onSubmit","formName","_this","this","self","$refs","validate","$axios","post","nickname","localStorage","getItem","createtime","leasttime","then","response","$router","push","path","catch","error","console","log","components_Newtopic","render","_vm","_h","$createElement","_c","_self","ref","attrs","model","prop","placeholder","value","callback","$$v","$set","expression","_v","on","click","$event","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"qHAiBAA,GACAC,KADA,WAEA,OACAC,OACAC,MAAA,GACAC,QAAA,IAEAC,OACAF,QAAAG,UAAA,EAAAC,QAAA,SAAAC,QAAA,SACAJ,UAAAE,UAAA,EAAAC,QAAA,SAAAC,QAAA,SACAC,IAAA,IAAAF,QAAA,gBAAAC,QAAA,cAIAE,SACAC,YADA,SACAC,GACA,IAAAC,EAOA,OAAAD,GACA,SARAC,EASA,SARAC,OAAAC,EAAA,QAAAD,EACAP,QAAAM,EACAG,KAAA,QACAC,QAAA,MAWAC,iBAjBA,WAkBA,IAAAC,EAAA,IAAAC,KAEAC,EAAAF,EAAAG,cACAC,EAAAJ,EAAAK,WAAA,EACAC,EAAAN,EAAAO,UAQA,OAPAH,GAAA,GAAAA,GAAA,IACAA,EAAA,IAAAA,GAEAE,GAAA,GAAAA,GAAA,IACAA,EAAA,IAAAA,GAEAJ,EAVA,IAUAE,EAVA,IAUAE,GAGAE,SAhCA,SAgCAC,GAAA,IAAAC,EAAAC,KACAC,EAAAD,KACAA,KAAAE,MAAAJ,GAAAK,SAAA,SAAAA,GACA,IAAAA,EAkCA,OALAnB,OAAAC,EAAA,QAAAD,EACAP,QAAA,aACAS,KAAA,QACAC,QAAA,KAEA,EAjCAY,EAAAK,OAAAC,KAAA,iBACAhC,MAAA0B,EAAA3B,MAAAC,MACAC,QAAAyB,EAAA3B,MAAAE,QACAgC,SAAAC,aAAAC,QAAA,eACAC,WAAAR,EAAAb,mBACAsB,UAAAT,EAAAb,qBAEAuB,KAAA,SAAAC,GACA,MAAAA,EAAAzC,KAAAW,MACAE,OAAAC,EAAA,QAAAD,EACAP,QAAA,OACAS,KAAA,UACAC,QAAA,IAEAc,EAAAY,QAAAC,MAAAC,KAAA,qBAEAd,EAAApB,YAAA+B,EAAAzC,KAAAW,QAGAkC,MAAA,SAAAC,GACAC,QAAAC,IAAAF,GACAjC,OAAAC,EAAA,QAAAD,EACAP,QAAA,WACAS,KAAA,QACAC,QAAA,WCxFAiC,GADiBC,OAFjB,WAA0B,IAAAC,EAAAtB,KAAauB,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,WAA+BE,IAAA,QAAAC,OAAmBrD,MAAA+C,EAAA/C,MAAAsD,MAAAP,EAAAlD,SAAqCqD,EAAA,gBAAqBG,OAAOE,KAAA,WAAgBL,EAAA,YAAiBG,OAAOG,YAAA,QAAqBF,OAAQG,MAAAV,EAAAlD,MAAA,MAAA6D,SAAA,SAAAC,GAAiDZ,EAAAa,KAAAb,EAAAlD,MAAA,QAAA8D,IAAkCE,WAAA,kBAA2B,GAAAd,EAAAe,GAAA,KAAAZ,EAAA,gBAAqCG,OAAOE,KAAA,aAAkBL,EAAA,YAAiBG,OAAO1C,KAAA,WAAA6C,YAAA,SAAwCF,OAAQG,MAAAV,EAAAlD,MAAA,QAAA6D,SAAA,SAAAC,GAAmDZ,EAAAa,KAAAb,EAAAlD,MAAA,UAAA8D,IAAoCE,WAAA,oBAA6B,GAAAd,EAAAe,GAAA,KAAAZ,EAAA,aAAkCG,OAAO1C,KAAA,WAAiBoD,IAAKC,MAAA,SAAAC,GAAyBlB,EAAAzB,SAAA,aAAwByB,EAAAe,GAAA,QAAAf,EAAAe,GAAA,KAAAZ,EAAA,aAAAH,EAAAe,GAAA,iBAExtBI,oBCCjB,IAcAC,EAdAC,EAAA,OAcAC,CACA1E,EACAkD,GATA,EAVA,SAAAyB,GACAF,EAAA,SAaA,kBAEA,MAUAG,EAAA,QAAAJ,EAAA","file":"static/js/4.85d2366c27e95acc2f7b.js","sourcesContent":["<template>\n  <div>\n    <el-form ref=\"topic\" :rules='rules' :model=\"topic\">\n      <el-form-item prop=\"title\">\n        <el-input v-model=\"topic.title\" placeholder=\"输入标题\"></el-input>\n      </el-form-item>\n      <el-form-item prop=\"content\">\n        <el-input type=\"textarea\" v-model=\"topic.content\" placeholder=\"请输入内容\"></el-input>\n      </el-form-item>\n      <el-button type=\"primary\" @click=\"onSubmit('topic')\">发表</el-button>\n      <el-button>取消</el-button>\n    </el-form>\n  </div>\n</template>\n\n<script>\nimport { Message } from 'element-ui'\nexport default {\n  data () {\n    return {\n      topic: {\n        title: '',\n        content: ''\n      },\n      rules: {\n        title: [{required: true, message: '请输入标题！', trigger: 'blur'}],\n        content: [{required: true, message: '请输入内容！', trigger: 'blur'},\n          {max: 255, message: '内容长度不能超过255字！', trigger: 'change'}]\n      }\n    }\n  },\n  methods: {\n    codeParsing (code) {\n      var msg = (hint) => {\n        Message({\n          message: hint,\n          type: 'error',\n          center: true\n        })\n      }\n      switch (code) {\n        case 302:\n          msg('订单号不存在')\n          break\n        default:\n          break\n      }\n    },\n    getNowFormatDate () {\n      var date = new Date()\n      var seperator1 = '-'\n      var year = date.getFullYear()\n      var month = date.getMonth() + 1\n      var strDate = date.getDate()\n      if (month >= 1 && month <= 9) {\n        month = '0' + month\n      }\n      if (strDate >= 0 && strDate <= 9) {\n        strDate = '0' + strDate\n      }\n      var currentdate = year + seperator1 + month + seperator1 + strDate\n      return currentdate\n    },\n    onSubmit (formName) {\n      const self = this\n      this.$refs[formName].validate((validate) => {\n        if (validate) {\n          this.$axios.post('user/newtopic', {\n            title: this.topic.title,\n            content: this.topic.content,\n            nickname: localStorage.getItem('ms_nickname'),\n            createtime: self.getNowFormatDate(),\n            leasttime: self.getNowFormatDate()\n          })\n            .then(function (response) {\n              if (response.data.code === 200) {\n                Message({\n                  message: '成功发表',\n                  type: 'success',\n                  center: true\n                })\n                self.$router.push({path: '/Home/community'})\n              } else {\n                self.codeParsing(response.data.code)\n              }\n            })\n            .catch(function (error) {\n              console.log(error)\n              Message({\n                message: '请检查网络并重试',\n                type: 'error',\n                center: true\n              })\n            })\n        } else {\n          Message({\n            message: '格式错误，请检查输入',\n            type: 'error',\n            center: true\n          })\n          return false\n        }\n      }\n      )\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Newtopic.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-form',{ref:\"topic\",attrs:{\"rules\":_vm.rules,\"model\":_vm.topic}},[_c('el-form-item',{attrs:{\"prop\":\"title\"}},[_c('el-input',{attrs:{\"placeholder\":\"输入标题\"},model:{value:(_vm.topic.title),callback:function ($$v) {_vm.$set(_vm.topic, \"title\", $$v)},expression:\"topic.title\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"content\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"placeholder\":\"请输入内容\"},model:{value:(_vm.topic.content),callback:function ($$v) {_vm.$set(_vm.topic, \"content\", $$v)},expression:\"topic.content\"}})],1),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.onSubmit('topic')}}},[_vm._v(\"发表\")]),_vm._v(\" \"),_c('el-button',[_vm._v(\"取消\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-50f218a3\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/components/Newtopic.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-50f218a3\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=styles&index=0!./Newtopic.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/_vue-loader@13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./Newtopic.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./Newtopic.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-50f218a3\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=template&index=0!./Newtopic.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-50f218a3\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Newtopic.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}