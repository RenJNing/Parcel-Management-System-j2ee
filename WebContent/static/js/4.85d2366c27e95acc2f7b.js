webpackJsonp([4],{fcfi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("xB4m"),r={data:function(){return{topic:{title:"",content:""},rules:{title:[{required:!0,message:"请输入标题！",trigger:"blur"}],content:[{required:!0,message:"请输入内容！",trigger:"blur"},{max:255,message:"内容长度不能超过255字！",trigger:"change"}]}}},methods:{codeParsing:function(e){var t;switch(e){case 302:t="订单号不存在",Object(o.Message)({message:t,type:"error",center:!0})}},getNowFormatDate:function(){var e=new Date,t=e.getFullYear(),n=e.getMonth()+1,o=e.getDate();return n>=1&&n<=9&&(n="0"+n),o>=0&&o<=9&&(o="0"+o),t+"-"+n+"-"+o},onSubmit:function(e){var t=this,n=this;this.$refs[e].validate(function(e){if(!e)return Object(o.Message)({message:"格式错误，请检查输入",type:"error",center:!0}),!1;t.$axios.post("user/newtopic",{title:t.topic.title,content:t.topic.content,nickname:localStorage.getItem("ms_nickname"),createtime:n.getNowFormatDate(),leasttime:n.getNowFormatDate()}).then(function(e){200===e.data.code?(Object(o.Message)({message:"成功发表",type:"success",center:!0}),n.$router.push({path:"/Home/community"})):n.codeParsing(e.data.code)}).catch(function(e){console.log(e),Object(o.Message)({message:"请检查网络并重试",type:"error",center:!0})})})}}},c={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-form",{ref:"topic",attrs:{rules:e.rules,model:e.topic}},[n("el-form-item",{attrs:{prop:"title"}},[n("el-input",{attrs:{placeholder:"输入标题"},model:{value:e.topic.title,callback:function(t){e.$set(e.topic,"title",t)},expression:"topic.title"}})],1),e._v(" "),n("el-form-item",{attrs:{prop:"content"}},[n("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.topic.content,callback:function(t){e.$set(e.topic,"content",t)},expression:"topic.content"}})],1),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.onSubmit("topic")}}},[e._v("发表")]),e._v(" "),n("el-button",[e._v("取消")])],1)],1)},staticRenderFns:[]};var a=n("vSla")(r,c,!1,function(e){n("kyYM")},"data-v-50f218a3",null);t.default=a.exports},kyYM:function(e,t){}});
//# sourceMappingURL=4.85d2366c27e95acc2f7b.js.map